(this["webpackJsonppractica-jh"]=this["webpackJsonppractica-jh"]||[]).push([[0],{29:function(e,t,c){"use strict";c.r(t);var a=c(2),r=c.n(a),n=c(14),s=c.n(n),o=(c(24),c(25),c(10)),i=c(1);var l=function(){return Object(i.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-success",children:[Object(i.jsx)("a",{className:"navbar-brand",href:"/",children:"Agro Respuesto J.H c.a"}),Object(i.jsx)("button",{className:"navbar-toggler collapsed",type:"button","data-toggle":"collapse","data-target":"#navbarColor01","aria-controls":"navbarColor01","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(i.jsx)("span",{className:"navbar-toggler-icon"})})]})},d=c(9),b=c.n(d),j=c(13),u=c(8),m=c(7),h=c(15),O=c(18),p=(c(30),O.a.initializeApp({apiKey:"AIzaSyC6blkSZwqwk5fhHMkMUTyJkPleiDUpjmc",authDomain:"jh-crud.firebaseapp.com",projectId:"jh-crud",storageBucket:"jh-crud.appspot.com",messagingSenderId:"671764775814",appId:"1:671764775814:web:294fa290afed18f2372207"}).firestore());var x=function(e){var t={nombre:"",precio:"",cantidad:"0"},c=Object(a.useState)(t),r=Object(m.a)(c,2),n=r[0],s=r[1],o=Object(a.useState)(!1),l=Object(m.a)(o,2),d=l[0],O=l[1],x=function(){var e=Object(j.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.collection("productos").doc(t).get();case 2:c=e.sent,s(Object(u.a)({},c.data()));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){""===e.currentId?s(Object(u.a)({},t)):x(e.currentId)}),[e.currentId]);var f=function(e){s(Object(u.a)(Object(u.a)({},n),{},Object(h.a)({},e.target.name,e.target.value.toUpperCase())))};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return O(!d)},children:"Agregar Producto"}),!0===d?Object(i.jsx)("div",{className:"card border-success mb-2 mt-2",children:Object(i.jsx)("div",{className:"card-header ",children:Object(i.jsxs)("form",{onSubmit:function(c){c.preventDefault(),""!==n.nombre&&""!==n.nombre&&(e.addOrEditProductos(n),s(Object(u.a)({},t)))},children:[Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Nombre"}),Object(i.jsx)("input",{className:"form-control",value:n.nombre,name:"nombre",onChange:f}),""===n.nombre?Object(i.jsx)("span",{className:"text-danger",children:"Este dato es requerido"}):""]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"Precio del producto",children:"Precio"}),Object(i.jsx)("input",{type:"number",className:"form-control",value:n.precio,name:"precio",onChange:f}),""===n.precio?Object(i.jsx)("span",{className:"text-danger",children:"Este dato es requerido"}):""]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{htmlFor:"cantidad del producto",children:"cantidad"}),Object(i.jsx)("input",{type:"number",value:n.cantidad,className:"form-control",name:"cantidad",onChange:f})]}),Object(i.jsxs)("div",{className:"form-group text-right",children:[Object(i.jsx)("button",{type:"button",className:"btn btn-warning",onClick:function(){return e.obtenerId("")},children:"Limpiar"})," ",Object(i.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return O(!d)},children:"Cerrar"})," ",Object(i.jsx)("button",{type:"submit",className:"btn btn-primary",children:""===e.currentId?"Agregar":"Actualizar"})]})]})})}):""]})};function f(e){var t=Object(a.useState)([]),c=Object(m.a)(t,2),r=c[0],n=c[1],s=Object(a.useState)(""),o=Object(m.a)(s,2),l=o[0],d=o[1];return Object(a.useEffect)((function(){if(""===l)n(e.productos);else{var t=e.productos.filter((function(e){return!e.nombre.search(l)}));n(t)}}),[l,e.productos]),Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"card border-success mb-3",children:[Object(i.jsx)("div",{className:"card-header text-center",children:Object(i.jsx)("h4",{children:"Productos"})}),Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)("div",{className:"row",children:Object(i.jsx)("div",{className:"col-md-4 offset-md-8",children:Object(i.jsx)("input",{type:"text",name:"Buscador",className:"form-control mb-3",placeholder:"Buscar producto",onChange:function(e){d(e.target.value.toUpperCase())}})})}),Object(i.jsxs)("table",{className:"table table-hover text-center",id:"myTable",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{className:"table-success",children:[Object(i.jsx)("th",{children:"Nombre"}),Object(i.jsx)("th",{children:"Cantidad"}),Object(i.jsx)("th",{children:"Precio en $"}),Object(i.jsx)("th",{children:"Precio en bs"}),Object(i.jsx)("th",{children:"Acciones"})]})}),Object(i.jsx)("tbody",{children:r.map((function(t){return Object(i.jsxs)("tr",{className:"text-center",children:[Object(i.jsx)("td",{children:t.nombre}),Object(i.jsx)("td",{children:t.cantidad}),Object(i.jsx)("td",{children:t.precio+"$"}),Object(i.jsxs)("td",{children:[(t.precio*e.Dolar).toLocaleString()," Bs"]}),Object(i.jsxs)("td",{children:[Object(i.jsx)("button",{type:"button",onClick:function(){return e.obtenerId(t.id)},className:"btn btn-warning ",htmlFor:"Editar",children:Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-pencil",viewBox:"0 0 16 16",children:Object(i.jsx)("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"})})}),"    ",Object(i.jsx)("button",{type:"button",onClick:function(){return e.onDeleteProductos(t.id)},className:"btn btn-danger ",htmlFor:"Eliminar",children:"X"})]})]},t.id)}))})]})]})]})})}function v(e){var t=Object(a.useState)(""),c=Object(m.a)(t,2),r=c[0],n=c[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("button",{type:"button",className:"btn btn-warning mt-2 mb-3","data-bs-toggle":"modal","data-bs-target":"#editDolar",children:Object(i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-pencil",viewBox:"0 0 16 16",children:Object(i.jsx)("path",{d:"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"})})}),Object(i.jsx)("div",{className:"modal fade",id:"editDolar",tabIndex:"-1","aria-labelledby":"editModal","aria-hidden":"true",children:Object(i.jsx)("div",{className:"modal-dialog",children:Object(i.jsxs)("div",{className:"modal-content",children:[Object(i.jsxs)("div",{className:"modal-header",children:[Object(i.jsx)("h5",{className:"modal-title",id:"editModal",children:"Nuevo Producto"}),Object(i.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",children:"X"})]}),Object(i.jsxs)("form",{children:[Object(i.jsx)("div",{className:"modal-body",children:Object(i.jsxs)("div",{className:"form-group text-left",children:[Object(i.jsx)("label",{children:"Precio del dolar"}),Object(i.jsx)("input",{className:"form-control",name:"dolar",onChange:function(e){e.preventDefault(),n(e.target.value)}})]})}),Object(i.jsxs)("div",{className:"modal-footer",children:[Object(i.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cerrar"}),Object(i.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault(),e.edit(r)},className:"btn btn-primary",children:"Guardar"})]})]})]})})})]})}var g=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),c=t[0],r=t[1],n=Object(a.useState)(""),s=Object(m.a)(n,2),l=s[0],d=s[1],h=Object(a.useState)(0),O=Object(m.a)(h,2),g=O[0],N=O[1],w=function(){var e=Object(j.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\xbfEsta seguro que desea eliminar este producto?")){e.next=4;break}return e.next=3,p.collection("productos").doc(t).delete();case 3:Object(o.b)("Producto eliminado exitosamente",{type:"error",autoClose:2e3});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){d(e)};Object(a.useEffect)((function(){p.collection("productos").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id}))})),r(t)}))}),[]);var C=function(){var e=Object(j.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==l){e.next=7;break}return e.next=4,p.collection("productos").doc().set(t);case 4:Object(o.b)("New producto agregado",{type:"success"}),e.next=11;break;case 7:return e.next=9,p.collection("productos").doc(l).update(t);case 9:Object(o.b)("Producto modificado exitosamente",{type:"warning"}),d("");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"container-fluid",children:[Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-md-7 ",children:Object(i.jsx)(x,{addOrEditProductos:C,currentId:l,productos:c,obtenerId:y})}),Object(i.jsxs)("div",{className:"col-md-5 text-right ",children:[Object(i.jsxs)("span",{className:"h3",children:["Dolar: "," "+g.toLocaleString()+" B.s "]}),Object(i.jsx)(v,{edit:function(e){N(parseInt(e)),Object(o.b)("Dolar actualizado",{type:"warning"})}})]})]}),Object(i.jsx)(f,{productos:c,onDeleteProductos:w,Dolar:g,obtenerId:y})]})})};var N=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(l,{}),Object(i.jsxs)("div",{className:"container p-4",children:[Object(i.jsx)("div",{className:"row",children:Object(i.jsx)(g,{})}),Object(i.jsx)(o.a,{})]})]})},w=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,31)).then((function(t){var c=t.getCLS,a=t.getFID,r=t.getFCP,n=t.getLCP,s=t.getTTFB;c(e),a(e),r(e),n(e),s(e)}))};s.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(N,{})}),document.getElementById("root")),w()}},[[29,1,2]]]);
//# sourceMappingURL=main.f2b88d02.chunk.js.map